webpackJsonp([2],{lb25:function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("CwoH"),a=(r.n(n),r("9qb7")),o=r.n(a),s=r("G3/1"),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),l=function(t){function MemberTile(){var e,t,r,n;_classCallCheck(this,MemberTile);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=r=_possibleConstructorReturn(this,(e=MemberTile.__proto__||Object.getPrototypeOf(MemberTile)).call.apply(e,[this].concat(o))),r.handleHover=function(e,t){var r=e.target;r.offsetWidth<r.scrollWidth&&$(r).find(".username").toggleClass("long")},n=t,_possibleConstructorReturn(r,n)}return _inherits(MemberTile,t),i(MemberTile,[{key:"render",value:function(){var t=this.props,r=t.userId,n=t.userName,a=t.fullName,i=t.isOnline,l=t.avatarUrl,c=t.avatarColor,u=t.publicURL,f=t.isStaff,m=t.initChat;return e.createElement("div",{className:o()("member-tile",{"is-online":i}),onMouseEnter:this.handleHover,onMouseLeave:this.handleHover},e.createElement("a",{href:u},e.createElement("div",{className:"member-image"},e.createElement("p",{className:"init-chat",onClick:function(e){return m(e,r)}},e.createElement("i",{className:"fa fa-comments-o"})),l?e.createElement("img",{className:"avatar-image rounded",src:l}):e.createElement(s.a,{className:"avatar-image",name:a||n,bgcolor:c,fontsize:"2em"})),e.createElement("div",{className:o()("member-info",{"is-staff":f})},e.createElement("p",{className:"username"},n),e.createElement("p",{className:"status"},f?"Staff":"Member"))))}}]),MemberTile}(n.Component);t.a=l}).call(t,r("CwoH"))},v5Ss:function(e,t,r){t=e.exports=r("lcwS")(!1),t.push([e.i,'._2NTZKqmqur2F7Z4a8UGT4V{color:inherit;padding:0 24px;margin-bottom:50px}@media only screen and (max-width:767px){._2NTZKqmqur2F7Z4a8UGT4V{margin-bottom:0}}._2NTZKqmqur2F7Z4a8UGT4V .member-tile{height:180px;width:140px;margin-left:20px;margin-top:24px;border-top:5px solid rgba(0,0,0,.12)}._2NTZKqmqur2F7Z4a8UGT4V .member-tile a{text-decoration:none}._2NTZKqmqur2F7Z4a8UGT4V .member-tile.is-online{border-top:5px solid #4caf50}@media only screen and (max-width:767px){._2NTZKqmqur2F7Z4a8UGT4V .member-tile{margin-left:5%}}._2NTZKqmqur2F7Z4a8UGT4V .member-tile:last-child:after{content:"";height:24px;display:block}._2NTZKqmqur2F7Z4a8UGT4V .member-image{height:126px;width:inherit;text-align:center;position:relative;padding:15px}._2NTZKqmqur2F7Z4a8UGT4V .member-image .avatar-image{width:82px!important;height:82px!important}._2NTZKqmqur2F7Z4a8UGT4V .member-image .init-chat{position:absolute;top:0;right:8px;color:#4a4a4a;font-size:16px}._2NTZKqmqur2F7Z4a8UGT4V .member-image,._2NTZKqmqur2F7Z4a8UGT4V .member-tile{border-radius:3px;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.09)}._2NTZKqmqur2F7Z4a8UGT4V .member-info{position:relative;overflow:hidden;text-align:center}._2NTZKqmqur2F7Z4a8UGT4V .member-info .username{display:inline-flex;margin-top:8px;margin-bottom:0;color:#4a4a4a;font-weight:600;line-height:18px}._2NTZKqmqur2F7Z4a8UGT4V .member-info .long{animation:scrollText 5s linear}._2NTZKqmqur2F7Z4a8UGT4V .member-info .status{opacity:.59;font-size:10px;font-weight:600;line-height:13px;color:#4a4a4a}._2NTZKqmqur2F7Z4a8UGT4V .member-info.is-staff{background-color:#00a65a;box-shadow:0 2px 4px 0 rgba(0,0,0,.09);border-radius:3px;border-top-right-radius:0;border-top-left-radius:0}._2NTZKqmqur2F7Z4a8UGT4V .member-info.is-staff .status,._2NTZKqmqur2F7Z4a8UGT4V .member-info.is-staff .username{color:#fff}@-moz-keyframes scrollText{0%{transform:translateX(0)}10%{transform:translateX(0)}45%{transform:translateX(calc(-100% + 140px))}55%{transform:translateX(calc(-100% + 140px))}90%{transform:translateX(0)}to{transform:translateX(0)}}@-webkit-keyframes scrollText{0%{transform:translateX(0)}10%{transform:translateX(0)}45%{transform:translateX(calc(-100% + 140px))}55%{transform:translateX(calc(-100% + 140px))}90%{transform:translateX(0)}to{transform:translateX(0)}}@-o-keyframes scrollText{0%{transform:translateX(0)}10%{transform:translateX(0)}45%{transform:translateX(calc(-100% + 140px))}55%{transform:translateX(calc(-100% + 140px))}90%{transform:translateX(0)}to{transform:translateX(0)}}@keyframes scrollText{0%{transform:translateX(0)}10%{transform:translateX(0)}45%{transform:translateX(calc(-100% + 140px))}55%{transform:translateX(calc(-100% + 140px))}90%{transform:translateX(0)}to{transform:translateX(0)}}',""]),t.locals={container:"_2NTZKqmqur2F7Z4a8UGT4V"}},xD9s:function(e,t,r){var n=r("v5Ss"),a=r("yW9T");"string"==typeof n&&(n=[[e.i,n,""]]),e.exports=n.locals||{},e.exports._getContent=function(){return n},e.exports._getCss=function(){return n.toString()},e.exports._insertCss=function(e){return a(n,e)}},zQwy:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=r("CwoH"),a=r.n(n),o=r("9qb7"),s=r.n(o),i=r("jn4M"),l=r.n(i),c=r("jYI/"),u=r("B1iE"),f=r.n(u),m=r("jT85"),p=r.n(m),b=r("g03I"),h=r.n(b),d=r("CCLN"),g=r("8Pfj"),_=r("lb25"),x=r("xD9s"),T=r.n(x),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),q=function(e){function PublicMembers(){var e,t,r,n;_classCallCheck(this,PublicMembers);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=r=_possibleConstructorReturn(this,(e=PublicMembers.__proto__||Object.getPrototypeOf(PublicMembers)).call.apply(e,[this].concat(o))),r.state={users:[]},r.componentDidMount=function(){r.props.fetchUsers("/api/members/")},r.componentDidUpdate=function(e){e.users===r.props.users&&e.onlineUsers===r.props.onlineUsers&&e.searchString===r.props.searchString&&e.filters===r.props.filters||r.setUsers(r.props.users,r.props.onlineUsers,r.props.searchString,r.props.filters)},r.chatButtonClicked=function(e,t){e.preventDefault();var n="/en/messaging/initmessage/"+t+"/?react=true";l.a.get(n).end(function(e,t){t.ok&&r.props.openMiniChat(t.body.id)})},r.setUsers=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e.map(function(e){return f.a.includes(t,e.username)?y({},e,{is_online:!0}):e});o=o.filter(function(e){return e.username.toLowerCase().startsWith(n.toLowerCase())}),f.a.includes(a,"staff")&&f.a.includes(a,"member")||(f.a.includes(a,"staff")&&(o=o.filter(function(e){return e.is_staff})),f.a.includes(a,"member")&&(o=o.filter(function(e){return!e.is_staff}))),f.a.includes(a,"online")&&f.a.includes(a,"offline")||(f.a.includes(a,"online")&&(o=o.filter(function(e){return e.is_online})),f.a.includes(a,"offline")&&(o=o.filter(function(e){return!e.is_online}))),r.setState({users:o})},n=t,_possibleConstructorReturn(r,n)}return _inherits(PublicMembers,e),v(PublicMembers,[{key:"render",value:function(){var e=this,t=this.props.className,r=s()(T.a.container,t,"flex-horizontal","flex-wrap","j-start","scroll-y");return a.a.createElement("div",{className:r},a.a.createElement(p.a,{title:"Members"}),this.state.users.map(function(t,r){return a.a.createElement(_.a,{key:r,userId:t.id,userName:t.username,fullName:t.fullname,isOnline:t.is_online,avatarUrl:t.user_image_url,avatarColor:t.user_avatar_color,publicURL:t.public_url,isStaff:t.is_staff,initChat:e.chatButtonClicked})}))}}]),PublicMembers}(a.a.Component),C=function(e){return{users:e.Users.users,onlineUsers:e.Users.onlineUsers,searchString:e.Common.subHeaderSearchString,filters:e.Common.subHeaderFilters}},Z=function(e){return{fetchUsers:function(t){return e(r.i(d.b)(t))},openMiniChat:function(t){return e(g.a.openMiniChat(t))}}};t.default=h()(T.a)(r.i(c.connect)(C,Z)(q))}});