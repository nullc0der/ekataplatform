webpackJsonp([5],{I7Pr:function(e,r,t){r=e.exports=t("lcwS")(!1),r.push([e.i,'._2QApI-ekPBzuGXrysrrMdN{color:inherit;padding:10px 30px;margin-bottom:50px;overflow-y:auto}._2QApI-ekPBzuGXrysrrMdN:after{content:"";display:block;clear:both}@media only screen and (max-width:767px){._2QApI-ekPBzuGXrysrrMdN{margin-bottom:0}}._2QApI-ekPBzuGXrysrrMdN .ui-group-card{float:left;margin:10px;padding:0;width:300px;height:350px;background-color:#fff;color:#4a4a4a;box-shadow:0 2px 8px 0 rgba(0,0,0,.12);border:1px solid rgba(0,0,0,.12);border-radius:6px;overflow:hidden;display:flex;flex-direction:column;cursor:pointer}._2QApI-ekPBzuGXrysrrMdN .ui-group-card:after{content:"";display:block;clear:both}._2QApI-ekPBzuGXrysrrMdN .ui-group-card:hover .group-header-image{transform:scale(1.2)}@media only screen and (max-width:767px){._2QApI-ekPBzuGXrysrrMdN .ui-group-card{margin:10px 0;width:100%;height:380px}}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .bottom-stat:first-child{border-right:1px solid #eee}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-inner{flex:1;position:relative}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header{height:100px;position:relative;border-width:0 0 1px;padding:10px 20px;color:#fff;overflow:hidden}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .group-header-image{position:absolute;top:0;left:0;width:100%;height:100%;background-size:100% 100px;background-repeat:no-repeat;opacity:.3;transition:transform .5s}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .group-info{position:absolute}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .name{font-size:20px;font-weight:200}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .category{font-size:14px;font-weight:600;white-space:pre-line}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .unsubscribe{position:absolute;right:15px}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .unsubscribe:hover{text-shadow:2px 3px rgba(0,0,0,.09)}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header:before{background-color:#00bcd4;opacity:.85;content:"";display:block;height:100%;width:100%;position:absolute;top:0;right:0}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-circle-image{width:92px;height:92px;background-color:#e2e2e2;background-position:50%;background-repeat:no-repeat;position:absolute;left:50%;margin-left:-46px;bottom:155px;border-radius:50%;border:2px solid #fff;text-align:center}@media only screen and (max-width:767px){._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-circle-image{bottom:180px}}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-body{text-align:center;padding-top:46px}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-body h6{font-size:16px;font-weight:600;margin-bottom:0}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-body p{margin-top:0;font-size:14px;padding:0 20px;height:50px;overflow:hidden}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-action{color:#fff;background-color:#00bcd4;font-size:20px;text-align:center;padding:6px 0}._2QApI-ekPBzuGXrysrrMdN .group-type-art .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-art .card-header:before{background-color:#2196f3}._2QApI-ekPBzuGXrysrrMdN .group-type-activist .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-activist .card-header:before{background-color:#ffc107}._2QApI-ekPBzuGXrysrrMdN .group-type-political .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-political .card-header:before{background-color:#4caf50}._2QApI-ekPBzuGXrysrrMdN .group-type-news .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-news .card-header:before{background-color:#009688}._2QApI-ekPBzuGXrysrrMdN .group-type-business .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-business .card-header:before{background-color:#607d8b}._2QApI-ekPBzuGXrysrrMdN .group-type-government .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-government .card-header:before{background-color:#795548}._2QApI-ekPBzuGXrysrrMdN .group-type-blog .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-blog .card-header:before{background-color:#ff9800}._2QApI-ekPBzuGXrysrrMdN .group-type-nonprofit .card-action,._2QApI-ekPBzuGXrysrrMdN .group-type-nonprofit .card-header:before{background-color:#673ab7}._2QApI-ekPBzuGXrysrrMdN .form-group{position:relative;margin-bottom:30px}._2QApI-ekPBzuGXrysrrMdN .form-group .control-label{font-size:16px;position:absolute;top:0;transition:all .2s ease}._2QApI-ekPBzuGXrysrrMdN .form-group .form-control.has-value+.control-label,._2QApI-ekPBzuGXrysrrMdN .form-group .form-control:focus+.control-label{font-size:14px;top:-22px}._2QApI-ekPBzuGXrysrrMdN .form-group:last-child{margin-bottom:15px}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown{position:absolute;width:100%;height:100px;overflow-y:scroll;top:-40px;padding:5px;list-style:none;background-color:#fff;visibility:hidden;box-shadow:0 2px 8px 0 rgba(0,0,0,.12)}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown.is-visible{visibility:visible}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown .select-option{position:relative;overflow:hidden;padding:5px;margin-top:5px}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown .select-option.selected{color:#fff;background-color:#03a9f4}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown .select-option:hover{cursor:pointer;color:#fff;background-color:#03a9f4;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown .select-option:after{content:"";position:absolute;top:50%;left:50%;width:10px;height:10px;background:hsla(0,0%,100%,.5);opacity:0;border-radius:100%;transform:scale(1) translate(-50%);transform-origin:50% 50%}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown .select-option:active:after{animation:ripple 1s ease-out}@-moz-keyframes ripple{0%{transform:scale(0);opacity:1}20%{transform:scale(25);opacity:1}to{opacity:0;transform:scale(40)}}@-webkit-keyframes ripple{0%{transform:scale(0);opacity:1}20%{transform:scale(25);opacity:1}to{opacity:0;transform:scale(40)}}@-o-keyframes ripple{0%{transform:scale(0);opacity:1}20%{transform:scale(25);opacity:1}to{opacity:0;transform:scale(40)}}@keyframes ripple{0%{transform:scale(0);opacity:1}20%{transform:scale(25);opacity:1}to{opacity:0;transform:scale(40)}}',""]),r.locals={container:"_2QApI-ekPBzuGXrysrrMdN"}},Qlyd:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var o=t("CwoH"),a=(t.n(o),t("5D9O")),n=(t.n(a),t("9qb7")),s=t.n(n),i=t("B1iE"),u=t.n(i),p=t("jn4M"),l=t.n(p),c=t("jT85"),d=t.n(c),m=t("g03I"),f=t.n(m),g=t("vlZl"),b=t.n(g),h=t("jYI/"),y=t("dvjK"),_=t("euWu"),G=t("yjHo"),k=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},v=function(){function defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),N=function(r){function GroupsPage(){var e,r,t,o;_classCallCheck(this,GroupsPage);for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t=_possibleConstructorReturn(this,(e=GroupsPage.__proto__||Object.getPrototypeOf(GroupsPage)).call.apply(e,[this].concat(n))),t.state={groups:[],createGroupModalIsOpen:!1,inputFieldValues:{name:"",short_about:"",group_type:[],other:""},inputFieldErrors:{},selectInputFocused:!1,creatingGroup:!1},t.componentDidMount=function(){t.props.loadGroups("/api/groups/")},t.componentDidUpdate=function(e){e.groups===t.props.groups&&e.searchString===t.props.searchString&&e.filters===t.props.filters||t.setGroups(t.props.groups,t.props.searchString,t.props.filters)},t.setGroups=function(e,r,o){var a=e.filter(function(e){return e.name.toLowerCase().startsWith(r.toLowerCase())}),n=[],s=[];o.length&&!u.a.includes(o,"all")&&(u.a.includes(o,"subscribed")&&(n=a.filter(function(e){return u.a.includes(e.subscribers,window.django.user.username)})),u.a.includes(o,"joined")&&(s=a.filter(function(e){return u.a.includes(e.members,window.django.user.username)})),a=u.a.union(n,s)),a.sort(function(e,r){return u.a.includes(r.members,window.django.user.username)-u.a.includes(e.members,window.django.user.username)}),t.setState({groups:a})},t.onSubscribeButtonClick=function(e,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.preventDefault();var a="/api/groups/subscribe/"+r+"/";o?t.props.subscribeGroup(a):t.props.unsubscribeGroup(a)},t.toggleCreateGroupModal=function(e){e.preventDefault(),t.state.creatingGroup||t.setState(function(e){return{createGroupModalIsOpen:!e.createGroupModalIsOpen}})},t.handleCreateGroupFormInputChange=function(e){e.preventDefault(),t.setState({inputFieldValues:k({},t.state.inputFieldValues,_defineProperty({},e.target.name,e.target.value))})},t.handleSelectFocus=function(e){e.preventDefault(),e.target.blur(),t.setState(function(e){return{selectInputFocused:!e.selectInputFocused}})},t.handleOptionSelect=function(e,r){t.setState({inputFieldValues:k({},t.state.inputFieldValues,{group_type:[e,r]}),selectInputFocused:!1})},t.handleCreateGroupSubmit=function(e){e.preventDefault(),t.setState({creatingGroup:!0}),l.a.post("/api/groups/create/").set("X-CSRFToken",window.django.csrf).send({name:t.state.inputFieldValues.name,short_about:t.state.inputFieldValues.short_about,group_type:t.state.inputFieldValues.group_type[0],group_type_other:"Other"===t.state.inputFieldValues.group_type[1]?t.state.inputFieldValues.other:""}).end(function(e,r){e&&400===e.status?t.setState({inputFieldErrors:JSON.parse(r.body),creatingGroup:!1}):(r.ok&&t.props.groupCreated(r.body),t.setState({inputFieldErrors:{},inputFieldValues:{name:"",short_about:"",group_type:[],other:""},createGroupModalIsOpen:!1,creatingGroup:!1}))})},t.handleJoinGroup=function(e,r,o){e.preventDefault(),t.props.joinGroup(r,o)},o=r,_possibleConstructorReturn(t,o)}return _inherits(GroupsPage,r),v(GroupsPage,[{key:"render",value:function(){var r=this,t=this.props.className,o=s()(b.a.container,t),a=[[1,"Art"],[2,"Activist"],[3,"Political"],[4,"News"],[5,"Business"],[6,"Government"],[7,"Blog"],[8,"Nonprofit Organaization"],[9,"Other"]];return e.createElement("div",{className:o},e.createElement(d.a,{title:"Community | Groups"}),e.createElement("div",{className:"flex-horizontal j-end"},e.createElement("button",{className:"btn btn-primary",onClick:this.toggleCreateGroupModal},e.createElement("i",{className:"fa fa-plus-circle"})," Create Group")),this.state.groups.map(function(t,o){return e.createElement(G.a,{key:o,id:t.id,groupURL:t.group_url,name:t.name,category:t.group_type,isSubscribed:u.a.includes(t.subscribers,window.django.user.username),isMember:u.a.includes(t.members,window.django.user.username),joinRequestSent:t.joinrequest_sent,headerURL:t.header_image_url,logoURL:t.logo_url,members:t.members.length,subscribers:t.subscribers.length,shortDescription:t.description,joinStatus:t.join_status,permissionSet:t.user_permission_set,onSubscribeButtonClick:r.onSubscribeButtonClick,onJoinButtonClick:r.handleJoinGroup})}),e.createElement(_.a,{id:"create-group-modal",isOpen:this.state.createGroupModalIsOpen,title:"Create a group",onBackdropClick:this.toggleCreateGroupModal,detachedFooter:!0,detachedFooterText:this.state.creatingGroup?"Creating...":"Create",onDetachedFooterClick:this.handleCreateGroupSubmit},e.createElement("form",{className:"form-horizontal",style:{padding:"10px"},onSubmit:this.handleCreateGroupSubmit},e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.name?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.name?"has-value":""),id:"inputName",type:"text",name:"name",value:this.state.inputFieldValues.name,onChange:this.handleCreateGroupFormInputChange,autoComplete:"off"}),e.createElement("label",{htmlFor:"inputName",className:"control-label"},"Name"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.name&&this.state.inputFieldErrors.name[0].message)),e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.short_about?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.short_about?"has-value":""),id:"inputSAbout",type:"text",name:"short_about",value:this.state.inputFieldValues.short_about,onChange:this.handleCreateGroupFormInputChange,autoComplete:"off"}),e.createElement("label",{htmlFor:"inputSAbout",className:"control-label"},"Short About"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.short_about&&this.state.inputFieldErrors.short_about[0].message)),e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.group_type?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.group_type[1]?"has-value":""),id:"inputGroupType",type:"text",onFocus:this.handleSelectFocus,value:this.state.inputFieldValues.group_type[1]||"",autoComplete:"off"}),e.createElement("label",{htmlFor:"inputGroupType",className:"control-label"},"Group Type"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.group_type&&this.state.inputFieldErrors.group_type[0].message),e.createElement("ul",{className:"select-dropdown "+(this.state.selectInputFocused?"is-visible":"")},e.createElement("li",{className:"select-option",onClick:function(){return r.handleOptionSelect("","")}},"---------"),a.map(function(t,o){return e.createElement("li",{key:o,className:"select-option "+(r.state.inputFieldValues.group_type[1]===t[1]&&"selected"),onClick:function(){return r.handleOptionSelect(t[0],t[1])}},t[1])}))),"Other"===this.state.inputFieldValues.group_type[1]&&e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.group_type_other?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.other?"has-value":""),id:"inputOther",type:"text",name:"other",value:this.state.inputFieldValues.other,onChange:this.handleCreateGroupFormInputChange,autoComplete:"off"}),e.createElement("label",{htmlFor:"inputOther",className:"control-label"},"Please Specify"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.group_type_other&&this.state.inputFieldErrors.group_type_other[0].message)))))}}]),GroupsPage}(o.Component),x=function(e){return{groups:e.Groups.groups,searchString:e.Common.subHeaderSearchString,filters:e.Common.subHeaderFilters}},C=function(e){return{loadGroups:function(r){return e(y.a.loadGroups(r))},subscribeGroup:function(r){return e(y.a.subscribeGroup(r))},unsubscribeGroup:function(r){return e(y.a.unSubscribeGroup(r))},groupCreated:function(r){return e(y.a.groupCreated(r))},joinGroup:function(r,t){return e(y.a.joinGroup(r,t))}}};r.default=f()(b.a)(t.i(h.connect)(x,C)(N))}.call(r,t("CwoH"))},vlZl:function(e,r,t){var o=t("I7Pr"),a=t("yW9T");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return a(o,e)}},yjHo:function(e,r,t){"use strict";(function(e){function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var o=t("CwoH"),a=(t.n(o),t("jYI/"),t("5D9O")),n=(t.n(a),t("9qb7")),s=t.n(n),i=t("Qx9a"),u=t.n(i),p=t("g03I"),l=(t.n(p),t("vlZl")),c=t.n(l),d=function(){function defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),m=function(r){function GroupCard(){var e,r,t,o;_classCallCheck(this,GroupCard);for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t=_possibleConstructorReturn(this,(e=GroupCard.__proto__||Object.getPrototypeOf(GroupCard)).call.apply(e,[this].concat(n))),t.openGroup=function(){var e=t.props,r=e.id;e.permissionSet.some(function(e){return-1!==[102,103,104,105,106].indexOf(e)})&&t.props.router.push("/community/1/groups/"+r+"/posts/")},o=r,_possibleConstructorReturn(t,o)}return _inherits(GroupCard,r),d(GroupCard,[{key:"render",value:function(){var r=this.props,t=r.className,o=r.id,a=(r.groupURL,r.name),n=r.category,i=r.isSubscribed,u=r.isMember,p=r.joinRequestSent,l=r.headerURL,d=r.logoURL,m=r.members,f=r.subscribers,g=r.shortDescription,b=r.joinStatus,h=r.onSubscribeButtonClick,y=r.onJoinButtonClick,_=(r.permissionSet,{open:"Join Group",closed:"Closed Group",request:"Request to Join",invite:"Invitation Only"}),G=s()(c.a.container,t,"ui-group-card","group-type-"+n.toLowerCase());return e.createElement("div",{className:G,onClick:this.openGroup},e.createElement("div",{className:"card-inner"},e.createElement("div",{className:"card-header flex-horizontal"},e.createElement("div",{className:"group-header-image",style:{backgroundImage:"url("+(l||"")+")"}}),e.createElement("div",{className:"group-info"},e.createElement("div",{className:"name"}," ",a," "),e.createElement("div",{className:"category"}," ",n.split(" ").join("\n")," ")),e.createElement("div",{className:"unsubscribe",onClick:function(e){return h(e,o,!i)}},i?"Unsubscribe":"Subscribe"," ")),e.createElement("div",{className:"card-circle-image",style:{backgroundImage:"url("+d+")"}}),e.createElement("div",{className:"card-body"},e.createElement("h6",null," Short Description "),e.createElement("p",null," ",g," "),e.createElement("div",{className:"bottom-stats flex-horizontal"},e.createElement("div",{className:"bottom-stat flex-1"},e.createElement("div",{className:"stat-value"}," ",m," "),e.createElement("div",{className:"stat-label"}," Members ")),e.createElement("div",{className:"bottom-stat flex-1"},e.createElement("div",{className:"stat-value"}," ",f," "),e.createElement("div",{className:"stat-label"}," Subscribers "))))),e.createElement("div",{className:"card-action",onClick:function(e){return y(e,o,u?"leave":p?"cancel":"join")}},u?"Leave group":p?"Cancel Request":_[b]))}}]),GroupCard}(o.Component);r.a=u()(m)}).call(r,t("CwoH"))}});