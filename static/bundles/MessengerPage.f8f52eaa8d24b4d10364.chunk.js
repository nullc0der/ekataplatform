webpackJsonp([1],{Plhk:function(e,t,r){t=e.exports=r("lcwS")(!1),t.push([e.i,'.eCo4Jw0uudrYMCRblWzOv{color:inherit;padding:24px;margin-bottom:50px}@media only screen and (max-width:767px){.eCo4Jw0uudrYMCRblWzOv{padding-bottom:100px}}._20b8cwCO_5-0o3v8cMpApt,.exbXgFYjpSmagmzxlFCXA{background-color:#fff}._20b8cwCO_5-0o3v8cMpApt{position:relative;z-index:100;flex:1;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);border-width:1px 1px 1px 0;border-radius:0 3px 3px 0}@media only screen and (max-width:767px){._20b8cwCO_5-0o3v8cMpApt{position:fixed;left:100vw;right:0;bottom:0;top:109px;width:100vw;z-index:300;border-width:1px;transition:left .16s ease-in-out;will-change:left}._20b8cwCO_5-0o3v8cMpApt.is-open{left:0}}@media only screen and (min-width:767px){._20b8cwCO_5-0o3v8cMpApt .mobile-close-chat{display:none}}._20b8cwCO_5-0o3v8cMpApt .header-options .ui-button{border:none;margin-right:-12px;border-radius:50%;overflow:hidden;height:38px;width:38px;padding-top:1px}._20b8cwCO_5-0o3v8cMpApt .chatview-header{height:60px;position:relative;padding:0 20px}._20b8cwCO_5-0o3v8cMpApt .chatview-header .text-session-id{position:absolute;top:18px;left:20px}@media only screen and (max-width:767px){._20b8cwCO_5-0o3v8cMpApt .chatview-header .text-session-id{display:none}}._20b8cwCO_5-0o3v8cMpApt .chatview-header .text-username{font-weight:600;font-size:16px}._20b8cwCO_5-0o3v8cMpApt .chatview-body{min-height:250px;overflow-y:auto;padding:20px;background-color:#f2f2f2}._20b8cwCO_5-0o3v8cMpApt .chatview-body:after{content:"";display:block;clear:both}._20b8cwCO_5-0o3v8cMpApt .chat-body-item{border-radius:2px;width:auto;float:right;clear:both;margin-bottom:12px;padding:3px 8px;cursor:default;transform-origin:center center;transition:all .12s ease}._20b8cwCO_5-0o3v8cMpApt .chat-body-item.in-left{float:left}._20b8cwCO_5-0o3v8cMpApt .chat-body-item:hover{transform:scale(1.05)}._20b8cwCO_5-0o3v8cMpApt .img-chat-avatar{width:24px;height:24px}.exbXgFYjpSmagmzxlFCXA{position:relative;z-index:400;width:250px;border-radius:3px 0 0 3px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}@media only screen and (max-width:767px){.exbXgFYjpSmagmzxlFCXA{position:fixed;left:0;right:0;bottom:0;top:109px;width:100vw;z-index:100}}.exbXgFYjpSmagmzxlFCXA .search-box{height:60px;padding:12px}.exbXgFYjpSmagmzxlFCXA .search-control{border:1px solid rgba(0,0,0,.1);width:100%;height:36px;padding:2px 6px;outline:none;background-color:#fff}.exbXgFYjpSmagmzxlFCXA .search-control:focus,.exbXgFYjpSmagmzxlFCXA .search-control:hover{border-color:#03a9f4}.exbXgFYjpSmagmzxlFCXA .items-list{overflow-x:hidden}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item{cursor:pointer;padding:12px;display:flex;align-items:center;background-color:#fff;position:relative;z-index:100;transform-origin:center center;transition:all .16s ease;will-change:transform,box-shadow;color:rgba(0,0,0,.24)}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item.is-active,.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item:hover{transform:scale(1.05);border-width:0;color:#4f4f4f}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item:hover{box-shadow:0 0 12px 2px rgba(0,0,0,.12);z-index:200}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item.is-active{z-index:300;background-color:#f2f2f2}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .item-image{width:42px;height:42px;flex-shrink:0;margin-right:16px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .item-details{flex:1;font-size:12px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .item-username{font-weight:600;font-size:14px;margin-bottom:-5px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .unread-count{margin-left:4px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status{position:relative;padding-left:12px;width:50px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status:before{position:absolute;top:7px;left:0;content:"";width:8px;height:8px;border-radius:50%;background-color:rgba(0,0,0,.24)}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status.is-online:before{background-color:#4caf50}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status.is-away:before{background-color:#ff9800}',""]),t.locals={container:"eCo4Jw0uudrYMCRblWzOv",chatView:"_20b8cwCO_5-0o3v8cMpApt",sidebar:"exbXgFYjpSmagmzxlFCXA"}},QhtM:function(e,t,r){!function(t,n){e.exports=n(r("CwoH"))}(0,function(e){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="./build",__webpack_require__(0)}([function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},i=r(1),a=_interopRequireDefault(i),s=r(2),c=_interopRequireDefault(s),l=function(e){function Websocket(e){_classCallCheck(this,Websocket),o(Object.getPrototypeOf(Websocket.prototype),"constructor",this).call(this,e),this.state={ws:new WebSocket(this.props.url,this.props.protocol),attempts:1}}return _inherits(Websocket,e),n(Websocket,[{key:"logging",value:function(e){this.props.debug}},{key:"generateInterval",value:function(e){return this.props.reconnectIntervalInMilliSeconds>0?this.props.reconnectIntervalInMilliSeconds:1e3*Math.min(30,Math.pow(2,e)-1)}},{key:"setupWebsocket",value:function(){var e=this,t=this.state.ws;t.onopen=function(){e.logging("Websocket connected"),void 0!==e.props.onOpen&&e.props.onOpen()},t.onmessage=function(t){e.props.onMessage(t.data)},this.shouldReconnect=this.props.reconnect,t.onclose=function(){if(e.logging("Websocket disconnected"),e.shouldReconnect){var t=e.generateInterval(e.state.attempts);setTimeout(function(){e.setState({attempts:e.state.attempts+1}),e.setState({ws:new WebSocket(e.props.url,e.props.protocol)}),e.setupWebsocket()},t)}}}},{key:"componentDidMount",value:function(){this.setupWebsocket()}},{key:"componentWillUnmount",value:function(){this.shouldReconnect=!1,this.state.ws.close()}},{key:"render",value:function(){return a.default.createElement("div",null)}}]),Websocket}(a.default.Component);l.defaultProps={debug:!1,reconnect:!0},l.propTypes={url:c.default.string.isRequired,onMessage:c.default.func.isRequired,onOpen:c.default.func,onError:c.default.func,debug:c.default.bool,reconnect:c.default.bool,protocol:c.default.string,reconnectIntervalInMilliSeconds:c.default.number},t.default=l,e.exports=t.default},function(t,r){t.exports=e},function(e,t,r){(function(t){"use strict";if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n};e.exports=r(4)(o,!0)}else e.exports=r(10)()}).call(t,r(3))},function(e,t){"use strict";function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):c=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(i=a,a=[];++c<t;)i&&i[c].run();c=-1,t=a.length}i=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var r,n,o=e.exports={};!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var i,a=[],s=!1,c=-1;o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){(function(t){"use strict";var n=r(5),o=r(6),i=r(7),a=r(8),s=r(9);e.exports=function(e,r){function getIteratorFn(e){var t=e&&(c&&e[c]||e[l]);if("function"==typeof t)return t}function is(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function PropTypeError(e){this.message=e,this.stack=""}function createChainableTypeChecker(e){function checkType(c,l,p,f,d,h,m){if(f=f||u,h=h||p,m!==a)if(r)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var b=f+":"+p;!n[b]&&s<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,f),n[b]=!0,s++)}return null==l[p]?c?new PropTypeError(null===l[p]?"The "+d+" `"+h+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+d+" `"+h+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(l,p,f,d,h)}if("production"!==t.env.NODE_ENV)var n={},s=0;var c=checkType.bind(null,!1);return c.isRequired=checkType.bind(null,!0),c}function createPrimitiveTypeChecker(e){function validate(t,r,n,o,i,a){var s=t[r];if(getPropType(s)!==e)return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getPreciseType(s)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return createChainableTypeChecker(validate)}function createArrayOfTypeChecker(e){function validate(t,r,n,o,i){if("function"!=typeof e)return new PropTypeError("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s)){return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getPropType(s)+"` supplied to `"+n+"`, expected an array.")}for(var c=0;c<s.length;c++){var l=e(s,c,n,o,i+"["+c+"]",a);if(l instanceof Error)return l}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(e){function validate(t,r,n,o,i){if(!(t[r]instanceof e)){var a=e.name||u;return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getClassName(t[r])+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(e){function validate(t,r,n,o,i){for(var a=t[r],s=0;s<e.length;s++)if(is(a,e[s]))return null;return new PropTypeError("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?createChainableTypeChecker(validate):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)}function createObjectOfTypeChecker(e){function validate(t,r,n,o,i){if("function"!=typeof e)return new PropTypeError("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],c=getPropType(s);if("object"!==c)return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var u=e(s,l,n,o,i+"."+l,a);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(e){function validate(t,r,n,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,r,n,o,i,a))return null}return new PropTypeError("Invalid "+o+" `"+i+"` supplied to `"+n+"`.")}return Array.isArray(e)?createChainableTypeChecker(validate):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull)}function createShapeTypeChecker(e){function validate(t,r,n,o,i){var s=t[r],c=getPropType(s);if("object"!==c)return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");for(var l in e){var u=e[l];if(u){var p=u(s,l,n,o,i+"."+l,a);if(p)return p}}return null}return createChainableTypeChecker(validate)}function isNode(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(isNode);if(null===t||e(t))return!0;var r=getIteratorFn(t);if(!r)return!1;var n,o=r.call(t);if(r!==t.entries){for(;!(n=o.next()).done;)if(!isNode(n.value))return!1}else for(;!(n=o.next()).done;){var i=n.value;if(i&&!isNode(i[1]))return!1}return!0;default:return!1}}function isSymbol(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function getPropType(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":isSymbol(t,e)?"symbol":t}function getPreciseType(e){var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function getClassName(e){return e.constructor&&e.constructor.name?e.constructor.name:u}var c="function"==typeof Symbol&&Symbol.iterator,l="@@iterator",u="<<anonymous>>",p={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:function(){return createChainableTypeChecker(n.thatReturnsNull)}(),arrayOf:createArrayOfTypeChecker,element:function(){function validate(t,r,n,o,i){var a=t[r];if(!e(a)){return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getPropType(a)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return createChainableTypeChecker(validate)}(),instanceOf:createInstanceTypeChecker,node:function(){function validate(e,t,r,n,o){return isNode(e[t])?null:new PropTypeError("Invalid "+n+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}return createChainableTypeChecker(validate)}(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};return PropTypeError.prototype=Error.prototype,p.checkPropTypes=s,p.PropTypes=p,p}}).call(t,r(3))},function(e,t){"use strict";function makeEmptyFunction(e){return function(){return e}}var r=function(){};r.thatReturns=makeEmptyFunction,r.thatReturnsFalse=makeEmptyFunction(!1),r.thatReturnsTrue=makeEmptyFunction(!0),r.thatReturnsNull=makeEmptyFunction(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,r){(function(t){"use strict";function invariant(e,t,n,o,i,a,s,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,i,a,s,c],p=0;l=new Error(t.replace(/%s/g,function(){return u[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=invariant}).call(t,r(3))},function(e,t,r){(function(t){"use strict";var n=r(5),o=n;"production"!==t.env.NODE_ENV&&function(){var e=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,i="Warning: "+e.replace(/%s/g,function(){return r[o++]});try{throw new Error(i)}catch(e){}};o=function(t,r){if(void 0===r)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==r.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];e.apply(void 0,[r].concat(o))}}}(),e.exports=o}).call(t,r(3))},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){(function(t){"use strict";function checkPropTypes(e,r,s,c,l){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var p;try{n("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",c||"React class",s,u),p=e[u](r,u,c,s,null,i)}catch(e){p=e}if(o(!p||p instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",s,u,typeof p),p instanceof Error&&!(p.message in a)){a[p.message]=!0;var f=l?l():"";o(!1,"Failed %s type: %s%s",s,p.message,null!=f?f:"")}}}if("production"!==t.env.NODE_ENV)var n=r(6),o=r(7),i=r(8),a={};e.exports=checkPropTypes}).call(t,r(3))},function(e,t,r){"use strict";var n=r(5),o=r(6);e.exports=function(){function shim(){o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim};return e.checkPropTypes=n,e.PropTypes=e,e}}])})},WJWp:function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("CwoH"),o=(r.n(n),r("9qb7")),i=r.n(o),a=r("G3/1"),s=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),c=function(t){function ChatSidebarItem(){return _classCallCheck(this,ChatSidebarItem),_possibleConstructorReturn(this,(ChatSidebarItem.__proto__||Object.getPrototypeOf(ChatSidebarItem)).apply(this,arguments))}return _inherits(ChatSidebarItem,t),s(ChatSidebarItem,[{key:"render",value:function(){var t=this.props,r=t.selected,n=void 0!==r&&r,o=t.username,s=void 0===o?"":o,c=t.is_online,l=void 0!==c&&c,u=t.num_unread,p=void 0===u?"":u,f=t.image,d=void 0!==f&&f,h=t.avatar_color,m=void 0===h?"":h,b=i()("chat-sidebar-item",{"is-active":n}),y=l?"Online":"Offline",g="is-"+y.toLowerCase();return e.createElement("div",{className:b,onClick:this.props.onClick},e.createElement("div",{className:"item-image rounded"},d?e.createElement("img",{className:"img-responsive rounded",src:d}):e.createElement(a.a,{name:s,bgcolor:m,fontsize:"2em"})),e.createElement("div",{className:"item-details"},e.createElement("div",{className:"item-username"}," ",s," "),e.createElement("div",{className:"item-status flex-horizontal a-center"},e.createElement("div",{className:"flex-1 online-status "+g}," ",y," "),e.createElement("div",{className:"unread-count"},p," Unread"))))}}]),ChatSidebarItem}(n.Component);t.a=c}).call(t,r("CwoH"))},WsyS:function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("CwoH"),o=(r.n(n),r("5D9O")),i=(r.n(o),r("9qb7")),a=r.n(i),s=r("B1iE"),c=r.n(s),l=r("fB6q"),u=r.n(l),p=r("WJWp"),f=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),d=function(t){function Sidebar(){return _classCallCheck(this,Sidebar),_possibleConstructorReturn(this,(Sidebar.__proto__||Object.getPrototypeOf(Sidebar)).apply(this,arguments))}return _inherits(Sidebar,t),f(Sidebar,[{key:"render",value:function(){var t=this,r=this.props,n=r.selected,o=void 0===n?null:n,i=r.hasErrored,s=void 0!==i&&i,l=r.className,f=r.items,d=void 0===f?[]:f,h=a()(u.a.sidebar,l,"flex-vertical"),m=d.reduce(function(e,t,r){return t.id===o?r:e},-1);return e.createElement("div",{className:h},e.createElement("div",{className:"search-box"},e.createElement("input",{type:"search",className:"search-control",placeholder:"Search Users/Groups",onChange:this.props.onSearchChange})),e.createElement("div",{className:"items-list scroll-y flex-1"},s&&e.createElement("p",null,"Error loading chats"),d.map(function(r,n){return e.createElement(p.a,{key:n,selected:m===n,onClick:function(e){return t.props.onItemClick(r.id)},username:r.username,image:r.user_image_url,avatar_color:r.user_avatar_color,is_online:c.a.includes(t.props.onlineUsers,r.username),num_unread:r.unread_count})})))}}]),Sidebar}(n.Component);t.a=d}).call(t,r("CwoH"))},dYxx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("CwoH"),o=(r.n(n),r("5D9O")),i=r.n(o),a=r("9qb7"),s=r.n(a),c=r("jYI/"),l=r("QhtM"),u=r.n(l),p=r("g03I"),f=r.n(p),d=r("fB6q"),h=r.n(d),m=r("WsyS"),b=r("vtyD"),y=r("OUuH"),g=r("8Pfj"),v=r("CCLN"),w=r("XJFe"),C=(r.n(w),r("0ub6"),function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}()),x=function(t){function Messenger(e){_classCallCheck(this,Messenger);var t=_possibleConstructorReturn(this,(Messenger.__proto__||Object.getPrototypeOf(Messenger)).call(this,e));return t.componentDidMount=function(){t.props.fetchData("/api/messaging/chatrooms/"),t.onlineGetter=setInterval(function(){return t.props.fetchOnlineUsersList("/onlineusers/")},2e4)},t.onSidebarChatSelect=function(e){t.props.selectRoom(e),$("."+h.a.chatView).toggleClass("is-open")},t.onSearchInputChange=function(e){t.props.changeSearchText(e.target.value)},t.getTitle=function(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(s.id===t)return s.username}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}},t.onWebsocketMessage=function(e){var r=JSON.parse(e),n=[];if(r.add_message)r.chatroom===t.props.selected&&t.props.webSocketMessage(r.message);else if(r.typing)t.websocketTypingTimeout&&clearTimeout(t.websocketTypingTimeout),t.setState({websocketTypingStatus:r.chatroom}),t.websocketTypingTimeout=setTimeout(function(){t.setState({websocketTypingStatus:""})},5e3);else{var o=!0,i=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;l.chatroom!==t.props.selected||r.add_message||n.push(l.message_id)}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}n.length&&t.props.deleteChats(n)}},t.selectNextRoom=function(){var e=!0,r=!1,n=void 0;try{for(var o,i=t.props.rooms[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;(a.id>t.props.selected||a.id<t.props.selected)&&t.props.selectRoom(a.id),t.props.clearChat(0)}}catch(e){r=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}},t.state={websocketTypingStatus:null},t.websocketTypingTimeout=null,t}return _inherits(Messenger,t),C(Messenger,[{key:"componentWillUnmount",value:function(){clearInterval(this.onlineGetter)}},{key:"render",value:function(){var t=this.props,r=t.className,n=t.rooms,o=t.selected,i=t.hasErrored,a=t.onlineUsers,c=("https:"==window.location.protocol?"wss":"ws")+"://"+window.location.host+"/messaging/stream/",l=s()(h.a.container,r,"flex-horizontal","a-stretch","flex-1");this.getTitle(n,o);return e.createElement("div",{className:l},e.createElement(m.a,{selected:o,hasErrored:i,onItemClick:this.onSidebarChatSelect,onSearchChange:this.onSearchInputChange,items:n,onlineUsers:a}),e.createElement(b.a,{title:this.getTitle(n,o),selectNext:this.selectNextRoom,userTyping:this.state.websocketTypingStatus}),e.createElement(u.a,{url:c,onMessage:this.onWebsocketMessage.bind(this)}))}}]),Messenger}(n.Component);x.propTypes={rooms:i.a.array.isRequired,onlineUsers:i.a.array.isRequired,areLoading:i.a.bool.isRequired,hasErrored:i.a.bool.isRequired,selected:i.a.number.isRequired,fetchData:i.a.func.isRequired,selectRoom:i.a.func.isRequired,changeSearchText:i.a.func.isRequired,webSocketMessage:i.a.func.isRequired,fetchOnlineUsersList:i.a.func.isRequired,clearChat:i.a.func.isRequired,deleteChats:i.a.func.isRequired};var T=function(e,t){return t?e.filter(function(e){return e.username.toLowerCase().startsWith(t.toLowerCase())}):e},_=function(e){return{rooms:T(e.ChatRooms.rooms,e.ChatRooms.searchText),selected:e.ChatRooms.selected,areLoading:e.ChatRooms.areLoading,hasErrored:e.ChatRooms.hasErrored,onlineUsers:e.Users.onlineUsers}},k=function(e){return{fetchData:function(t){return e(r.i(y.a)(t))},selectRoom:function(t){return e(r.i(y.b)(t))},changeSearchText:function(t){return e(r.i(y.c)(t))},webSocketMessage:function(t){return e(r.i(g.b)(t))},fetchOnlineUsersList:function(t){return e(r.i(v.a)(t))},clearChat:function(t){return e(r.i(g.c)(t))},deleteChats:function(t){return e(r.i(g.d)(t))}}};t.default=f()(h.a)(r.i(c.connect)(_,k)(x))}.call(t,r("CwoH"))},fB6q:function(e,t,r){var n=r("Plhk"),o=r("yW9T");"string"==typeof n&&(n=[[e.i,n,""]]),e.exports=n.locals||{},e.exports._getContent=function(){return n},e.exports._getCss=function(){return n.toString()},e.exports._insertCss=function(e){return o(n,e)}},vtyD:function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("CwoH"),o=(r.n(n),r("5D9O")),i=r.n(o),a=r("9qb7"),s=r.n(a),c=r("jYI/"),l=r("jn4M"),u=r.n(l),p=r("B1iE"),f=r.n(p),d=r("fB6q"),h=r.n(d),m=r("lPK4"),b=r("Zsk6"),y=r("8Pfj"),g=r("OUuH"),v=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),w=function(t){function ChatView(t){_classCallCheck(this,ChatView);var r=_possibleConstructorReturn(this,(ChatView.__proto__||Object.getPrototypeOf(ChatView)).call(this,t));return r.componentDidUpdate=function(e,t){if(e.selected!==r.props.selected){var n="/api/messaging/chat/"+r.props.selected+"/";r.props.fetchData(n)}if(e.chats!==r.props.chats){var o=r.props.chats,i=o.filter(function(e){return!e.read});i&&r.handleUnreadChat(i),r.scrollToBottom()}e.userTyping!==r.props.userTyping&&r.setState({userTyping:r.props.userTyping==r.props.selected})},r.handleUnreadChat=function(e){var t=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;t.push(c.id)}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}t.length&&u.a.post("/en/messaging/setmessagestatus/").set("X-CSRFToken",window.django.csrf).type("form").send({message_ids:t}).end(function(e,t){t.ok&&r.props.updateRoom(r.props.selected)})},r.handleSelectedMessage=function(e,t){if(t){var n=r.state.selectedMessages,o=f.a.includes(n,e)?n.filter(function(t){return t!==e}):n.concat(e);r.setState({selectedMessages:o})}},r.handleOptions=function(){r.setState(function(e){return{optionsOpen:!e.optionsOpen}})},r.componentDidMount=function(){r.scrollToBottom()},r.scrollToBottom=function(){r.messagesEnd.scrollIntoView({behavior:"smooth"})},r.closeChatView=function(){$("."+h.a.chatView).toggleClass("is-open")},r.handleSendChat=function(e){var t="/api/messaging/chat/"+r.props.selected+"/";r.props.sendChat(t,e)},r.handleDelete=function(e){e.preventDefault(),r.props.deleteRoom("/en/messaging/deleteroom/",r.props.selected),r.props.selectNext(),r.setState(function(e){return{optionsOpen:!e.optionsOpen}})},r.handleDeleteChat=function(e){e.preventDefault(),r.state.selectedMessages.length&&r.props.deleteChats("/api/messaging/deletemessages/",r.state.selectedMessages),r.setState(function(e){return{optionsOpen:!e.optionsOpen}})},r.handleTypingStatus=function(){u.a.post("/api/messaging/settyping/").set("X-CSRFToken",window.django.csrf).type("form").send({chatroom:r.props.selected}).end(function(e,t){})},r.sendDemoChat=function(e){var t=$(".chat-input-box").val(),r=$("<div/>",{class:"chat-body-item"}).text(t);$(".chatview-body").append(r),r.get(0).scrollIntoView()},r.renderOptions=function(){var t=r.state.selectedMessages.length>1?"Delete Selected Messages":"Delete Selected Message";return e.createElement("ul",{className:"dropdown-menu animated fadeIn",style:{left:"auto",right:0}},e.createElement("li",null,e.createElement("a",{href:"#",onClick:r.handleDelete},"Delete This Room")),r.state.selectedMessages.length>0&&e.createElement("li",null,e.createElement("a",{href:"#",onClick:r.handleDeleteChat},t)))},r.state={selectedMessages:[],optionsOpen:!1,userTyping:!1},r}return _inherits(ChatView,t),v(ChatView,[{key:"render",value:function(){var t=this,r=this.props,n=r.className,o=r.chats,i=r.title,a=s()(h.a.chatView,n,"flex-vertical");return e.createElement("div",{className:a},e.createElement("div",{className:"chatview-header flex-horizontal a-center"},e.createElement("div",{className:"text-username text-center flex-1"}," ",i," "),e.createElement("div",{className:"header-options"},e.createElement("div",{className:"btn btn-default ui-button",onClick:this.handleOptions},e.createElement("i",{className:"fa fa-ellipsis-v"})),e.createElement("div",{className:this.state.optionsOpen?"dropdown open":"dropdown"},this.renderOptions()),e.createElement("div",{onClick:this.closeChatView,className:"btn btn-default btn-chat ui-button mobile-close-chat"},e.createElement("i",{className:"fa fa-remove"})))),e.createElement("div",{className:"chatview-body flex-1"},o.map(function(r,n){return e.createElement(m.a,{key:n,user:r.user,message:r.message,message_id:r.id,stamp:new Date(r.timestamp),left:r.user.username!==window.django.user.username,selected:f.a.includes(t.state.selectedMessages,r.id),onSelected:t.handleSelectedMessage})}),e.createElement("div",{style:{float:"left",clear:"both"},ref:function(e){t.messagesEnd=e}})),e.createElement(b.a,{handleSendChat:this.handleSendChat,handleTypingStatus:this.handleTypingStatus,showTyping:this.state.userTyping}))}}]),ChatView}(n.Component);w.propTypes={chats:i.a.array.isRequired,selected:i.a.number.isRequired,areLoading:i.a.bool.isRequired,hasErrored:i.a.bool.isRequired,fetchData:i.a.func.isRequired,sendChat:i.a.func.isRequired,updateRoom:i.a.func.isRequired,deleteRoom:i.a.func.isRequired,deleteChats:i.a.func.isRequired};var C=function(e){return{chats:e.Chat.chats,selected:e.ChatRooms.selected,areLoading:e.Chat.areLoading,hasErrored:e.Chat.hasErrored}},x=function(e){return{fetchData:function(t){return e(r.i(y.e)(t))},sendChat:function(t,n){return e(r.i(y.f)(t,n))},updateRoom:function(t){return e(r.i(g.d)(t))},deleteRoom:function(t,n){return e(r.i(g.e)(t,n))},deleteChats:function(t,n){return e(r.i(y.g)(t,n))}}};t.a=r.i(c.connect)(C,x)(w)}).call(t,r("CwoH"))}});