webpackJsonp([2],{lb25:function(e,t,r){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("CwoH"),i=(r.n(n),r("9qb7")),o=r.n(i),a=r("G3/1"),s=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),l=function(t){function MemberTile(){return _classCallCheck(this,MemberTile),_possibleConstructorReturn(this,(MemberTile.__proto__||Object.getPrototypeOf(MemberTile)).apply(this,arguments))}return _inherits(MemberTile,t),s(MemberTile,[{key:"render",value:function(){var t=this.props,r=t.userId,n=t.userName,i=t.isOnline,s=t.avatarUrl,l=t.avatarColor,c=t.publicURL,u=t.isStaff,f=t.initChat;return e.createElement("div",{className:o()("member-tile",{"is-online":i})},e.createElement("a",{href:c},e.createElement("div",{className:"member-image"},e.createElement("p",{className:"init-chat",onClick:function(e){return f(e,r)}},e.createElement("i",{className:"fa fa-comments-o"})),s?e.createElement("img",{className:"avatar-image rounded",src:s}):e.createElement(a.a,{className:"avatar-image",name:n,bgcolor:l,fontsize:"2em"})),e.createElement("div",{className:o()("member-info",{"is-staff":u})},e.createElement("p",{className:"username"},n),e.createElement("p",{className:"status"},u?"Staff":"Member"))))}}]),MemberTile}(n.Component);t.a=l}).call(t,r("CwoH"))},v5Ss:function(e,t,r){t=e.exports=r("lcwS")(!1),t.push([e.i,"._2NTZKqmqur2F7Z4a8UGT4V{color:inherit;margin:0 24px;margin-bottom:50px}.member-tile{height:180px;width:140px;margin-left:20px;margin-top:24px;border-top:5px solid rgba(0,0,0,.12)}.member-tile a{text-decoration:none}.member-tile.is-online{border-top:5px solid #4caf50}@media only screen and (max-width:767px){.member-tile{margin-left:5%}}.member-image{height:126px;width:inherit;text-align:center;position:relative;padding:15px}.member-image .avatar-image{width:82px!important;height:82px!important}.member-image .init-chat{position:absolute;top:0;right:5px;color:#4a4a4a}.member-image,.member-tile{border-radius:3px;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.09)}.member-info{position:relative;overflow:hidden;text-align:center}.member-info .username{margin-top:8px;margin-bottom:0;color:#4a4a4a;font-weight:600;line-height:18px}.member-info .status{opacity:.59;font-size:10px;font-weight:600;line-height:13px;color:#4a4a4a}.member-info.is-staff{background-color:#00a65a;box-shadow:0 2px 4px 0 rgba(0,0,0,.09);border-radius:3px;border-top-right-radius:0;border-top-left-radius:0}.member-info.is-staff .status,.member-info.is-staff .username{color:#fff}",""]),t.locals={container:"_2NTZKqmqur2F7Z4a8UGT4V"}},xD9s:function(e,t,r){var n=r("v5Ss"),i=r("yW9T");"string"==typeof n&&(n=[[e.i,n,""]]),e.exports=n.locals||{},e.exports._getContent=function(){return n},e.exports._getCss=function(){return n.toString()},e.exports._insertCss=function(e){return i(n,e)}},zQwy:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=r("CwoH"),i=r.n(n),o=r("9qb7"),a=r.n(o),s=r("jn4M"),l=r.n(s),c=r("jYI/"),u=r("B1iE"),f=r.n(u),p=r("g03I"),m=r.n(p),b=r("CCLN"),h=r("8Pfj"),d=r("lb25"),g=r("xD9s"),_=r.n(g),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),x=function(e){function PublicMembers(){var e,t,r,n;_classCallCheck(this,PublicMembers);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=_possibleConstructorReturn(this,(e=PublicMembers.__proto__||Object.getPrototypeOf(PublicMembers)).call.apply(e,[this].concat(o))),r.state={users:[]},r.componentDidMount=function(){r.props.fetchUsers("/api/members/")},r.componentDidUpdate=function(e){e.users===r.props.users&&e.onlineUsers===r.props.onlineUsers&&e.searchString===r.props.searchString&&e.filters===r.props.filters||r.setUsers(r.props.users,r.props.onlineUsers,r.props.searchString,r.props.filters)},r.chatButtonClicked=function(e,t){e.preventDefault();var n="/en/messaging/initmessage/"+t+"/?react=true";l.a.get(n).end(function(e,t){t.ok&&r.props.openMiniChat(t.body.id)})},r.setUsers=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e.map(function(e){return f.a.includes(t,e.username)?v({},e,{is_online:!0}):e});o=o.filter(function(e){return e.username.toLowerCase().startsWith(n.toLowerCase())}),f.a.includes(i,"staff")&&f.a.includes(i,"member")||(f.a.includes(i,"staff")&&(o=o.filter(function(e){return e.is_staff})),f.a.includes(i,"member")&&(o=o.filter(function(e){return!e.is_staff}))),f.a.includes(i,"online")&&f.a.includes(i,"offline")||(f.a.includes(i,"online")&&(o=o.filter(function(e){return e.is_online})),f.a.includes(i,"offline")&&(o=o.filter(function(e){return!e.is_online}))),r.setState({users:o})},n=t,_possibleConstructorReturn(r,n)}return _inherits(PublicMembers,e),y(PublicMembers,[{key:"render",value:function(){var e=this,t=this.props.className,r=a()(_.a.container,t,"flex-horizontal","flex-wrap","j-start");return i.a.createElement("div",{className:r},this.state.users.map(function(t,r){return i.a.createElement(d.a,{key:r,userId:t.id,userName:t.username,isOnline:t.is_online,avatarUrl:t.user_image_url,avatarColor:t.user_avatar_color,publicURL:t.public_url,isStaff:t.is_staff,initChat:e.chatButtonClicked})}))}}]),PublicMembers}(i.a.Component),C=function(e){return{users:e.Users.users,onlineUsers:e.Users.onlineUsers,searchString:e.Common.subHeaderSearchString,filters:e.Common.subHeaderFilters}},w=function(e){return{fetchUsers:function(t){return e(r.i(b.b)(t))},openMiniChat:function(t){return e(h.a.openMiniChat(t))}}};t.default=m()(_.a)(r.i(c.connect)(C,w)(x))}});