webpackJsonp([3],{I7Pr:function(e,r,t){r=e.exports=t("lcwS")(!1),r.push([e.i,'._2QApI-ekPBzuGXrysrrMdN{color:inherit;margin:10px 30px 60px}._2QApI-ekPBzuGXrysrrMdN:after{content:"";display:block;clear:both}._2QApI-ekPBzuGXrysrrMdN .ui-group-card{float:left;margin:10px;width:300px;height:350px;background-color:#fff;color:#4a4a4a;box-shadow:0 2px 8px 0 rgba(0,0,0,.12);border:1px solid rgba(0,0,0,.12);border-radius:6px;overflow:hidden;display:flex;flex-direction:column}@media only screen and (max-width:767px){._2QApI-ekPBzuGXrysrrMdN .ui-group-card{margin:10px 0;width:100%;height:380px}}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .bottom-stat:first-child{border-right:1px solid #eee}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-inner{flex:1}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header{height:100px;position:relative;border-bottom:1px solid rgba(0,0,0,.12);border:1px solid rgba(0,0,0,.12);border-width:0 0 1px;padding:10px 20px;color:#fff}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .name{font-size:20px;font-weight:200}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .category{font-size:14px;font-weight:600;white-space:pre-line}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-header .unsubscribe:hover{text-shadow:2px 3px rgba(0,0,0,.09)}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-circle-image{width:92px;height:92px;background-color:#e2e2e2;position:absolute;left:50%;margin-left:-46px;bottom:-46px;border-radius:50%;border:2px solid #fff;text-align:center}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-circle-image img{border-radius:50%;margin:2px}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-body{text-align:center;padding-top:46px}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-body h6{font-size:16px;font-weight:600;margin-bottom:0}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-body p{margin-top:0;font-size:14px;padding:0 20px;height:50px;overflow:hidden}._2QApI-ekPBzuGXrysrrMdN .ui-group-card .card-action{color:#fff;font-size:20px;text-align:center;padding:6px 0}._2QApI-ekPBzuGXrysrrMdN .ui-group-card:first-child .card-action,._2QApI-ekPBzuGXrysrrMdN .ui-group-card:first-child .card-header{background-color:#2196f3}._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(2n) .card-action,._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(2n) .card-header{background-color:#ffc107}._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(3n) .card-action,._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(3n) .card-header{background-color:#4caf50}._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(4n) .card-action,._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(4n) .card-header{background-color:#009688}._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(5n) .card-action,._2QApI-ekPBzuGXrysrrMdN .ui-group-card:nth-child(5n) .card-header{background-color:#e91e63}._2QApI-ekPBzuGXrysrrMdN .form-group{position:relative;margin-bottom:30px}._2QApI-ekPBzuGXrysrrMdN .form-group .control-label{font-size:16px;position:absolute;top:0;transition:all .2s ease}._2QApI-ekPBzuGXrysrrMdN .form-group .form-control.has-value+.control-label,._2QApI-ekPBzuGXrysrrMdN .form-group .form-control:focus+.control-label{font-size:14px;top:-22px}._2QApI-ekPBzuGXrysrrMdN .form-group:last-child{margin-bottom:15px}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown{position:absolute;width:100%;height:100px;overflow-y:scroll;top:-40px;padding:5px;list-style:none;background-color:#fff;visibility:hidden;box-shadow:0 2px 8px 0 rgba(0,0,0,.12)}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown.is-visible{visibility:visible}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown .select-option{padding:5px}._2QApI-ekPBzuGXrysrrMdN .form-group .select-dropdown .select-option:hover{cursor:pointer;color:#fff;background-color:#03a9f4;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}',""]),r.locals={container:"_2QApI-ekPBzuGXrysrrMdN"}},Qlyd:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var o=t("CwoH"),a=(t.n(o),t("5D9O")),n=(t.n(a),t("9qb7")),s=t.n(n),i=t("B1iE"),u=t.n(i),l=t("jn4M"),p=t.n(l),c=t("g03I"),d=t.n(c),m=t("vlZl"),h=t.n(m),f=t("jYI/"),g=t("dvjK"),b=t("euWu"),y=t("yjHo"),_=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},G=function(){function defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),v=function(r){function GroupsPage(){var e,r,t,o;_classCallCheck(this,GroupsPage);for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t=_possibleConstructorReturn(this,(e=GroupsPage.__proto__||Object.getPrototypeOf(GroupsPage)).call.apply(e,[this].concat(n))),t.state={groups:[],createGroupModalIsOpen:!1,inputFieldValues:{name:"",short_about:"",group_type:[],other:""},inputFieldErrors:{},selectInputFocused:!1,creatingGroup:!1},t.componentDidMount=function(){t.props.loadGroups("/api/groups/")},t.componentDidUpdate=function(e){e.groups===t.props.groups&&e.searchString===t.props.searchString&&e.filters===t.props.filters||t.setGroups(t.props.groups,t.props.searchString,t.props.filters)},t.setGroups=function(e,r,o){var a=e.filter(function(e){return e.name.toLowerCase().startsWith(r.toLowerCase())}),n=[],s=[];o.length&&!u.a.includes(o,"all")&&(u.a.includes(o,"subscribed")&&(n=a.filter(function(e){return u.a.includes(e.subscribers,window.django.user.username)})),u.a.includes(o,"joined")&&(s=a.filter(function(e){return u.a.includes(e.members,window.django.user.username)})),a=u.a.union(n,s)),t.setState({groups:a})},t.onSubscribeButtonClick=function(e,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.preventDefault();var a="/api/groups/subscribe/"+r+"/";o?t.props.subscribeGroup(a):t.props.unsubscribeGroup(a)},t.toggleCreateGroupModal=function(e){e.preventDefault(),t.state.creatingGroup||t.setState(function(e){return{createGroupModalIsOpen:!e.createGroupModalIsOpen}})},t.handleCreateGroupFormInputChange=function(e){e.preventDefault(),t.setState({inputFieldValues:_({},t.state.inputFieldValues,_defineProperty({},e.target.name,e.target.value))})},t.handleSelectFocus=function(e){e.preventDefault(),e.target.blur(),t.setState(function(e){return{selectInputFocused:!e.selectInputFocused}})},t.handleOptionSelect=function(e,r){t.setState({inputFieldValues:_({},t.state.inputFieldValues,{group_type:[e,r]}),selectInputFocused:!1})},t.handleCreateGroupSubmit=function(e){e.preventDefault(),t.setState({creatingGroup:!0}),p.a.post("/api/groups/create/").set("X-CSRFToken",window.django.csrf).send({name:t.state.inputFieldValues.name,short_about:t.state.inputFieldValues.short_about,group_type:t.state.inputFieldValues.group_type[0],group_type_other:"Other"===t.state.inputFieldValues.group_type[1]?t.state.inputFieldValues.other:""}).end(function(e,r){r.ok?(t.props.groupCreated(r.body),t.setState({inputFieldErrors:{},inputFieldValues:{name:"",short_about:"",group_type:[],other:""},createGroupModalIsOpen:!1,creatingGroup:!1})):t.setState({inputFieldErrors:JSON.parse(r.body),creatingGroup:!1})})},t.hideOptions=function(e){e.preventDefault(),t.setState({selectInputFocused:!1})},o=r,_possibleConstructorReturn(t,o)}return _inherits(GroupsPage,r),G(GroupsPage,[{key:"render",value:function(){var r=this,t=this.props.className,o=s()(h.a.container,t),a=[[1,"Art"],[2,"Activist"],[3,"Political"],[4,"news"],[5,"Business"],[6,"Government"],[7,"Blog"],[8,"Nonprofit Organaization"],[9,"Other"]];return e.createElement("div",{className:o},e.createElement("div",{className:"flex-horizontal j-end"},e.createElement("button",{className:"btn btn-primary",onClick:this.toggleCreateGroupModal},e.createElement("i",{className:"fa fa-plus-circle"})," Create Group")),this.state.groups.map(function(t,o){return e.createElement(y.a,{key:o,id:t.id,groupURL:t.group_url,name:t.name,category:t.group_type,isSubscribed:u.a.includes(t.subscribers,window.django.user.username),isMember:u.a.includes(t.members,window.django.user.username),logoURL:t.logo_url,members:t.members.length,subscribers:t.subscribers.length,shortDescription:t.description,onSubscribeButtonClick:r.onSubscribeButtonClick})}),e.createElement(b.a,{id:"create-group-modal",isOpen:this.state.createGroupModalIsOpen,title:"Create a group",onBackdropClick:this.toggleCreateGroupModal,detachedFooter:!0,detachedFooterText:this.state.creatingGroup?"Creating...":"Create",onDetachedFooterClick:this.handleCreateGroupSubmit},e.createElement("form",{className:"form-horizontal",style:{padding:"10px"},onSubmit:this.handleCreateGroupSubmit,onClick:this.hideOptions},e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.name?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.name?"has-value":""),id:"inputName",type:"text",name:"name",value:this.state.inputFieldValues.name,onChange:this.handleCreateGroupFormInputChange,autoComplete:"off"}),e.createElement("label",{htmlFor:"inputName",className:"control-label"},"Name"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.name&&this.state.inputFieldErrors.name[0].message)),e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.short_about?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.short_about?"has-value":""),id:"inputSAbout",type:"text",name:"short_about",value:this.state.inputFieldValues.short_about,onChange:this.handleCreateGroupFormInputChange,autoComplete:"off"}),e.createElement("label",{htmlFor:"inputSAbout",className:"control-label"},"Short About"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.short_about&&this.state.inputFieldErrors.short_about[0].message)),e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.group_type?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.group_type[1]?"has-value":""),id:"inputGroupType",type:"text",onFocus:this.handleSelectFocus,value:this.state.inputFieldValues.group_type[1]||"",autoComplete:"off"}),e.createElement("label",{htmlFor:"inputGroupType",className:"control-label"},"Group Type"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.group_type&&this.state.inputFieldErrors.group_type[0].message),e.createElement("ul",{className:"select-dropdown "+(this.state.selectInputFocused?"is-visible":"")},e.createElement("li",{className:"select-option",onClick:function(){return r.handleOptionSelect("","")}},"---------"),a.map(function(t,o){return e.createElement("li",{key:o,className:"select-option",onClick:function(){return r.handleOptionSelect(t[0],t[1])}},t[1])}))),"Other"===this.state.inputFieldValues.group_type[1]&&e.createElement("div",{className:"form-group "+(this.state.inputFieldErrors.group_type_other?"has-error":"")},e.createElement("input",{className:"form-control "+(this.state.inputFieldValues.other?"has-value":""),id:"inputOther",type:"text",name:"other",value:this.state.inputFieldValues.other,onChange:this.handleCreateGroupFormInputChange,autoComplete:"off"}),e.createElement("label",{htmlFor:"inputOther",className:"control-label"},"Please Specify"),e.createElement("small",{className:"form-text"},this.state.inputFieldErrors.group_type_other&&this.state.inputFieldErrors.group_type_other[0].message)))))}}]),GroupsPage}(o.Component),x=function(e){return{groups:e.Groups.groups,searchString:e.Common.subHeaderSearchString,filters:e.Common.subHeaderFilters}},N=function(e){return{loadGroups:function(r){return e(g.a.loadGroups(r))},subscribeGroup:function(r){return e(g.a.subscribeGroup(r))},unsubscribeGroup:function(r){return e(g.a.unSubscribeGroup(r))},groupCreated:function(r){return e(g.a.groupCreated(r))}}};r.default=d()(h.a)(t.i(f.connect)(x,N)(v))}.call(r,t("CwoH"))},vlZl:function(e,r,t){var o=t("I7Pr"),a=t("yW9T");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return a(o,e)}},yjHo:function(e,r,t){"use strict";(function(e){function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var o=t("CwoH"),a=(t.n(o),t("5D9O")),n=(t.n(a),t("9qb7")),s=t.n(n),i=t("g03I"),u=(t.n(i),t("vlZl")),l=t.n(u),p=function(){function defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),c=function(r){function GroupCard(){return _classCallCheck(this,GroupCard),_possibleConstructorReturn(this,(GroupCard.__proto__||Object.getPrototypeOf(GroupCard)).apply(this,arguments))}return _inherits(GroupCard,r),p(GroupCard,[{key:"render",value:function(){var r=this.props,t=r.className,o=r.id,a=r.groupURL,n=r.name,i=r.category,u=r.isSubscribed,p=r.isMember,c=r.logoURL,d=r.members,m=r.subscribers,h=r.shortDescription,f=r.onSubscribeButtonClick,g=s()(l.a.container,t,"ui-group-card");return e.createElement("a",{href:a,style:{textDecoration:"none"}},e.createElement("div",{className:g},e.createElement("div",{className:"card-inner"},e.createElement("div",{className:"card-header flex-horizontal j-between"},e.createElement("div",null,e.createElement("div",{className:"name"}," ",n," "),e.createElement("div",{className:"category"}," ",i.split(" ").join("\n")," ")),e.createElement("div",{className:"unsubscribe",onClick:function(e){return f(e,o,!u)}},u?"Unsubscribe":"Subscribe"," "),e.createElement("div",{className:"card-circle-image"},e.createElement("img",{src:c}))),e.createElement("div",{className:"card-body"},e.createElement("h6",null," Short Description "),e.createElement("p",null," ",h," "),e.createElement("div",{className:"bottom-stats flex-horizontal"},e.createElement("div",{className:"bottom-stat flex-1"},e.createElement("div",{className:"stat-value"}," ",d," "),e.createElement("div",{className:"stat-label"}," Members ")),e.createElement("div",{className:"bottom-stat flex-1"},e.createElement("div",{className:"stat-value"}," ",m," "),e.createElement("div",{className:"stat-label"}," Subscribers "))))),e.createElement("div",{className:"card-action"},p?"Leave group":"Join group")))}}]),GroupCard}(o.Component);r.a=c}).call(r,t("CwoH"))}});