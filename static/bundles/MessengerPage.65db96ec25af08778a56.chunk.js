webpackJsonp([1],{Plhk:function(e,t,n){t=e.exports=n("lcwS")(!1),t.push([e.i,'.eCo4Jw0uudrYMCRblWzOv{color:inherit;padding:24px;margin-bottom:50px}@media only screen and (max-width:767px){.eCo4Jw0uudrYMCRblWzOv{padding-bottom:100px}}._20b8cwCO_5-0o3v8cMpApt,.exbXgFYjpSmagmzxlFCXA{background-color:#fff}._20b8cwCO_5-0o3v8cMpApt{position:relative;z-index:100;flex:1;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);border-width:1px 1px 1px 0;border-radius:0 3px 3px 0}@media only screen and (max-width:767px){._20b8cwCO_5-0o3v8cMpApt{position:fixed;left:100vw;right:0;bottom:0;top:109px;width:100vw;z-index:300;border-width:1px;transition:left .16s ease-in-out;will-change:left}._20b8cwCO_5-0o3v8cMpApt.is-open{left:0}}@media only screen and (min-width:767px){._20b8cwCO_5-0o3v8cMpApt .mobile-close-chat{display:none}}._20b8cwCO_5-0o3v8cMpApt .header-options .ui-button{border:none;margin-right:-12px;border-radius:50%;overflow:hidden;height:38px;width:38px;padding-top:1px}._20b8cwCO_5-0o3v8cMpApt .chatview-header{height:60px;position:relative;padding:0 20px}._20b8cwCO_5-0o3v8cMpApt .chatview-header .text-session-id{position:absolute;top:18px;left:20px}@media only screen and (max-width:767px){._20b8cwCO_5-0o3v8cMpApt .chatview-header .text-session-id{display:none}}._20b8cwCO_5-0o3v8cMpApt .chatview-header .text-username{font-weight:600;font-size:16px}._20b8cwCO_5-0o3v8cMpApt .chatview-body{min-height:auto;overflow-y:auto;padding:20px;background-color:#f2f2f2}._20b8cwCO_5-0o3v8cMpApt .chatview-body:after{content:"";display:block;clear:both}._20b8cwCO_5-0o3v8cMpApt .chat-body-item{border-radius:2px;width:auto;float:right;clear:both;margin-bottom:12px;padding:3px 8px;cursor:default;transform-origin:center center;transition:all .12s ease}._20b8cwCO_5-0o3v8cMpApt .chat-body-item.in-left{float:left}._20b8cwCO_5-0o3v8cMpApt .chat-body-item:hover{transform:scale(1.05)}._20b8cwCO_5-0o3v8cMpApt .img-chat-avatar{width:24px;height:24px}.exbXgFYjpSmagmzxlFCXA{position:relative;z-index:400;width:250px;border-radius:3px 0 0 3px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}@media only screen and (max-width:767px){.exbXgFYjpSmagmzxlFCXA{position:fixed;left:0;right:0;bottom:0;top:109px;width:100vw;z-index:100}}.exbXgFYjpSmagmzxlFCXA .search-box{height:60px;padding:12px}.exbXgFYjpSmagmzxlFCXA .search-control{border:1px solid rgba(0,0,0,.1);width:100%;height:36px;padding:2px 6px;outline:none;background-color:#fff}.exbXgFYjpSmagmzxlFCXA .search-control:focus,.exbXgFYjpSmagmzxlFCXA .search-control:hover{border-color:#03a9f4}.exbXgFYjpSmagmzxlFCXA .items-list{overflow-x:hidden}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item{cursor:pointer;padding:12px;display:flex;align-items:center;background-color:#fff;position:relative;z-index:100;transform-origin:center center;transition:all .16s ease;will-change:transform,box-shadow;color:rgba(0,0,0,.24)}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item.is-active,.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item:hover{transform:scale(1.05);border-width:0;color:#4f4f4f}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item:hover{box-shadow:0 0 12px 2px rgba(0,0,0,.12);z-index:200}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item.is-active{z-index:300;background-color:#f2f2f2}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .item-image{width:42px;height:42px;flex-shrink:0;margin-right:16px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .item-details{flex:1;font-size:12px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .item-username{font-weight:600;font-size:14px;margin-bottom:-5px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .unread-count{margin-left:4px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status{position:relative;padding-left:12px;width:50px}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status:before{position:absolute;top:7px;left:0;content:"";width:8px;height:8px;border-radius:50%;background-color:rgba(0,0,0,.24)}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status.is-online:before{background-color:#4caf50}.exbXgFYjpSmagmzxlFCXA .chat-sidebar-item .online-status.is-away:before{background-color:#ff9800}',""]),t.locals={container:"eCo4Jw0uudrYMCRblWzOv",chatView:"_20b8cwCO_5-0o3v8cMpApt",sidebar:"exbXgFYjpSmagmzxlFCXA"}},QhtM:function(e,t,n){!function(t,r){e.exports=r(n("CwoH"))}(0,function(e){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="./build",__webpack_require__(0)}([function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},i=n(1),a=_interopRequireDefault(i),s=n(2),c=_interopRequireDefault(s),l=function(e){function Websocket(e){_classCallCheck(this,Websocket),o(Object.getPrototypeOf(Websocket.prototype),"constructor",this).call(this,e),this.state={ws:new WebSocket(this.props.url,this.props.protocol),attempts:1}}return _inherits(Websocket,e),r(Websocket,[{key:"logging",value:function(e){this.props.debug}},{key:"generateInterval",value:function(e){return this.props.reconnectIntervalInMilliSeconds>0?this.props.reconnectIntervalInMilliSeconds:1e3*Math.min(30,Math.pow(2,e)-1)}},{key:"setupWebsocket",value:function(){var e=this,t=this.state.ws;t.onopen=function(){e.logging("Websocket connected"),void 0!==e.props.onOpen&&e.props.onOpen()},t.onmessage=function(t){e.props.onMessage(t.data)},this.shouldReconnect=this.props.reconnect,t.onclose=function(){if(e.logging("Websocket disconnected"),e.shouldReconnect){var t=e.generateInterval(e.state.attempts);setTimeout(function(){e.setState({attempts:e.state.attempts+1}),e.setState({ws:new WebSocket(e.props.url,e.props.protocol)}),e.setupWebsocket()},t)}}}},{key:"componentDidMount",value:function(){this.setupWebsocket()}},{key:"componentWillUnmount",value:function(){this.shouldReconnect=!1,this.state.ws.close()}},{key:"render",value:function(){return a.default.createElement("div",null)}}]),Websocket}(a.default.Component);l.defaultProps={debug:!1,reconnect:!0},l.propTypes={url:c.default.string.isRequired,onMessage:c.default.func.isRequired,onOpen:c.default.func,onError:c.default.func,debug:c.default.bool,reconnect:c.default.bool,protocol:c.default.string,reconnectIntervalInMilliSeconds:c.default.number},t.default=l,e.exports=t.default},function(t,n){t.exports=e},function(e,t,n){(function(t){"use strict";if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(4)(o,!0)}else e.exports=n(10)()}).call(t,n(3))},function(e,t){"use strict";function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):c=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(i=a,a=[];++c<t;)i&&i[c].run();c=-1,t=a.length}i=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n,r,o=e.exports={};!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var i,a=[],s=!1,c=-1;o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";var r=n(5),o=n(6),i=n(7),a=n(8),s=n(9);e.exports=function(e,n){function getIteratorFn(e){var t=e&&(c&&e[c]||e[l]);if("function"==typeof t)return t}function is(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function PropTypeError(e){this.message=e,this.stack=""}function createChainableTypeChecker(e){function checkType(c,l,p,f,d,h,m){if(f=f||u,h=h||p,m!==a)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+p;!r[y]&&s<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,f),r[y]=!0,s++)}return null==l[p]?c?new PropTypeError(null===l[p]?"The "+d+" `"+h+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+d+" `"+h+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(l,p,f,d,h)}if("production"!==t.env.NODE_ENV)var r={},s=0;var c=checkType.bind(null,!1);return c.isRequired=checkType.bind(null,!0),c}function createPrimitiveTypeChecker(e){function validate(t,n,r,o,i,a){var s=t[n];if(getPropType(s)!==e)return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getPreciseType(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return createChainableTypeChecker(validate)}function createArrayOfTypeChecker(e){function validate(t,n,r,o,i){if("function"!=typeof e)return new PropTypeError("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getPropType(s)+"` supplied to `"+r+"`, expected an array.")}for(var c=0;c<s.length;c++){var l=e(s,c,r,o,i+"["+c+"]",a);if(l instanceof Error)return l}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(e){function validate(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||u;return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getClassName(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(e){function validate(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(is(a,e[s]))return null;return new PropTypeError("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?createChainableTypeChecker(validate):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function createObjectOfTypeChecker(e){function validate(t,n,r,o,i){if("function"!=typeof e)return new PropTypeError("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],c=getPropType(s);if("object"!==c)return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var u=e(s,l,r,o,i+"."+l,a);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(e){function validate(t,n,r,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,i,a))return null}return new PropTypeError("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}return Array.isArray(e)?createChainableTypeChecker(validate):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function createShapeTypeChecker(e){function validate(t,n,r,o,i){var s=t[n],c=getPropType(s);if("object"!==c)return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var u=e[l];if(u){var p=u(s,l,r,o,i+"."+l,a);if(p)return p}}return null}return createChainableTypeChecker(validate)}function isNode(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(isNode);if(null===t||e(t))return!0;var n=getIteratorFn(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!isNode(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!isNode(i[1]))return!1}return!0;default:return!1}}function isSymbol(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function getPropType(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":isSymbol(t,e)?"symbol":t}function getPreciseType(e){var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function getClassName(e){return e.constructor&&e.constructor.name?e.constructor.name:u}var c="function"==typeof Symbol&&Symbol.iterator,l="@@iterator",u="<<anonymous>>",p={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:function(){return createChainableTypeChecker(r.thatReturnsNull)}(),arrayOf:createArrayOfTypeChecker,element:function(){function validate(t,n,r,o,i){var a=t[n];if(!e(a)){return new PropTypeError("Invalid "+o+" `"+i+"` of type `"+getPropType(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return createChainableTypeChecker(validate)}(),instanceOf:createInstanceTypeChecker,node:function(){function validate(e,t,n,r,o){return isNode(e[t])?null:new PropTypeError("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return createChainableTypeChecker(validate)}(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};return PropTypeError.prototype=Error.prototype,p.checkPropTypes=s,p.PropTypes=p,p}}).call(t,n(3))},function(e,t){"use strict";function makeEmptyFunction(e){return function(){return e}}var n=function(){};n.thatReturns=makeEmptyFunction,n.thatReturnsFalse=makeEmptyFunction(!1),n.thatReturnsTrue=makeEmptyFunction(!0),n.thatReturnsNull=makeEmptyFunction(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){(function(t){"use strict";function invariant(e,t,r,o,i,a,s,c){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,o,i,a,s,c],p=0;l=new Error(t.replace(/%s/g,function(){return u[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=invariant}).call(t,n(3))},function(e,t,n){(function(t){"use strict";var r=n(5),o=r;"production"!==t.env.NODE_ENV&&function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});try{throw new Error(i)}catch(e){}};o=function(t,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.apply(void 0,[n].concat(o))}}}(),e.exports=o}).call(t,n(3))},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(t){"use strict";function checkPropTypes(e,n,s,c,l){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var p;try{r("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",c||"React class",s,u),p=e[u](n,u,c,s,null,i)}catch(e){p=e}if(o(!p||p instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",s,u,typeof p),p instanceof Error&&!(p.message in a)){a[p.message]=!0;var f=l?l():"";o(!1,"Failed %s type: %s%s",s,p.message,null!=f?f:"")}}}if("production"!==t.env.NODE_ENV)var r=n(6),o=n(7),i=n(8),a={};e.exports=checkPropTypes}).call(t,n(3))},function(e,t,n){"use strict";var r=n(5),o=n(6);e.exports=function(){function shim(){o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim};return e.checkPropTypes=r,e.PropTypes=e,e}}])})},WJWp:function(e,t,n){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n("CwoH"),o=(n.n(r),n("9qb7")),i=n.n(o),a=n("G3/1"),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),c=function(t){function ChatSidebarItem(){return _classCallCheck(this,ChatSidebarItem),_possibleConstructorReturn(this,(ChatSidebarItem.__proto__||Object.getPrototypeOf(ChatSidebarItem)).apply(this,arguments))}return _inherits(ChatSidebarItem,t),s(ChatSidebarItem,[{key:"render",value:function(){var t=this.props,n=t.selected,r=void 0!==n&&n,o=t.username,s=void 0===o?"":o,c=t.is_online,l=void 0!==c&&c,u=t.num_unread,p=void 0===u?"":u,f=t.image,d=void 0!==f&&f,h=t.avatar_color,m=void 0===h?"":h,y=i()("chat-sidebar-item",{"is-active":r}),b=l?"Online":"Offline",g="is-"+b.toLowerCase();return e.createElement("div",{className:y,onClick:this.props.onClick},e.createElement("div",{className:"item-image rounded"},d?e.createElement("img",{className:"img-responsive rounded",src:d}):e.createElement(a.a,{name:s,bgcolor:m,fontsize:"2em"})),e.createElement("div",{className:"item-details"},e.createElement("div",{className:"item-username"}," ",s," "),e.createElement("div",{className:"item-status flex-horizontal a-center"},e.createElement("div",{className:"flex-1 online-status "+g}," ",b," "),e.createElement("div",{className:"unread-count"},p," Unread"))))}}]),ChatSidebarItem}(r.Component);t.a=c}).call(t,n("CwoH"))},WsyS:function(e,t,n){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n("CwoH"),o=(n.n(r),n("5D9O")),i=(n.n(o),n("9qb7")),a=n.n(i),s=n("B1iE"),c=n.n(s),l=n("fB6q"),u=n.n(l),p=n("WJWp"),f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),d=function(t){function Sidebar(){return _classCallCheck(this,Sidebar),_possibleConstructorReturn(this,(Sidebar.__proto__||Object.getPrototypeOf(Sidebar)).apply(this,arguments))}return _inherits(Sidebar,t),f(Sidebar,[{key:"render",value:function(){var t=this,n=this.props,r=n.selected,o=void 0===r?null:r,i=n.hasErrored,s=void 0!==i&&i,l=n.className,f=n.items,d=void 0===f?[]:f,h=a()(u.a.sidebar,l,"flex-vertical"),m=d.reduce(function(e,t,n){return t.id===o?n:e},-1);return e.createElement("div",{className:h},e.createElement("div",{className:"search-box"},e.createElement("input",{type:"search",className:"search-control",placeholder:"Search Users/Groups",onChange:this.props.onSearchChange})),e.createElement("div",{className:"items-list scroll-y flex-1"},s&&e.createElement("p",null,"Error loading chats"),d.map(function(n,r){return e.createElement(p.a,{key:r,selected:m===r,onClick:function(e){return t.props.onItemClick(n.id)},username:n.username,image:n.user_image_url,avatar_color:n.user_avatar_color,is_online:c.a.includes(t.props.onlineUsers,n.username),num_unread:n.unread_count})})))}}]),Sidebar}(r.Component);t.a=d}).call(t,n("CwoH"))},dYxx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n("CwoH"),o=(n.n(r),n("5D9O")),i=n.n(o),a=n("9qb7"),s=n.n(a),c=n("jYI/"),l=n("QhtM"),u=n.n(l),p=n("g03I"),f=n.n(p),d=n("fB6q"),h=n.n(d),m=n("WsyS"),y=n("vtyD"),b=n("OUuH"),g=n("8Pfj"),v=n("CCLN"),w=n("XJFe"),C=(n.n(w),n("0ub6"),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),x=function(t){function Messenger(e){_classCallCheck(this,Messenger);var t=_possibleConstructorReturn(this,(Messenger.__proto__||Object.getPrototypeOf(Messenger)).call(this,e));return t.componentDidMount=function(){t.props.fetchData("/api/messaging/chatrooms/"),t.onlineGetter=setInterval(function(){return t.props.fetchOnlineUsersList("/onlineusers/")},2e4)},t.onSidebarChatSelect=function(e){t.props.selectRoom(e),$("."+h.a.chatView).toggleClass("is-open")},t.onSearchInputChange=function(e){t.props.changeSearchText(e.target.value)},t.getTitle=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s.id===t)return s.username}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}},t.onWebsocketMessage=function(e){var n=JSON.parse(e),r=[];if(n.add_message)n.chatroom===t.props.selected&&t.props.webSocketMessage(n.message);else if(n.typing)t.websocketTypingTimeout&&clearTimeout(t.websocketTypingTimeout),t.setState({websocketTypingStatus:n.chatroom}),t.websocketTypingTimeout=setTimeout(function(){t.setState({websocketTypingStatus:""})},5e3);else{var o=!0,i=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;l.chatroom!==t.props.selected||n.add_message||r.push(l.message_id)}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}r.length&&t.props.deleteChats(r)}},t.selectNextRoom=function(){var e=!0,n=!1,r=void 0;try{for(var o,i=t.props.rooms[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;(a.id>t.props.selected||a.id<t.props.selected)&&t.props.selectRoom(a.id),t.props.clearChat(0)}}catch(e){n=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}},t.state={websocketTypingStatus:null},t.websocketTypingTimeout=null,t}return _inherits(Messenger,t),C(Messenger,[{key:"componentWillUnmount",value:function(){clearInterval(this.onlineGetter)}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.rooms,o=t.selected,i=t.hasErrored,a=t.onlineUsers,c=("https:"==window.location.protocol?"wss":"ws")+"://"+window.location.host+"/messaging/stream/",l=s()(h.a.container,n,"flex-horizontal","a-stretch","flex-1");this.getTitle(r,o);return e.createElement("div",{className:l},e.createElement(m.a,{selected:o,hasErrored:i,onItemClick:this.onSidebarChatSelect,onSearchChange:this.onSearchInputChange,items:r,onlineUsers:a}),e.createElement(y.a,{title:this.getTitle(r,o),selectNext:this.selectNextRoom,userTyping:this.state.websocketTypingStatus}),e.createElement(u.a,{url:c,onMessage:this.onWebsocketMessage.bind(this)}))}}]),Messenger}(r.Component);x.propTypes={rooms:i.a.array.isRequired,onlineUsers:i.a.array.isRequired,areLoading:i.a.bool.isRequired,hasErrored:i.a.bool.isRequired,selected:i.a.number.isRequired,fetchData:i.a.func.isRequired,selectRoom:i.a.func.isRequired,changeSearchText:i.a.func.isRequired,webSocketMessage:i.a.func.isRequired,fetchOnlineUsersList:i.a.func.isRequired,clearChat:i.a.func.isRequired,deleteChats:i.a.func.isRequired};var T=function(e,t){return t?e.filter(function(e){return e.username.toLowerCase().startsWith(t.toLowerCase())}):e},_=function(e){return{rooms:T(e.ChatRooms.rooms,e.ChatRooms.searchText),selected:e.ChatRooms.selected,areLoading:e.ChatRooms.areLoading,hasErrored:e.ChatRooms.hasErrored,onlineUsers:e.Users.onlineUsers}},k=function(e){return{fetchData:function(t){return e(n.i(b.a)(t))},selectRoom:function(t){return e(n.i(b.b)(t))},changeSearchText:function(t){return e(n.i(b.c)(t))},webSocketMessage:function(t){return e(n.i(g.b)(t))},fetchOnlineUsersList:function(t){return e(n.i(v.a)(t))},clearChat:function(t){return e(n.i(g.c)(t))},deleteChats:function(t){return e(n.i(g.d)(t))}}};t.default=f()(h.a)(n.i(c.connect)(_,k)(x))}.call(t,n("CwoH"))},fB6q:function(e,t,n){var r=n("Plhk"),o=n("yW9T");"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},vtyD:function(e,t,n){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n("CwoH"),o=(n.n(r),n("5D9O")),i=n.n(o),a=n("9qb7"),s=n.n(a),c=n("jYI/"),l=n("jn4M"),u=n.n(l),p=n("B1iE"),f=n.n(p),d=n("fB6q"),h=n.n(d),m=n("lPK4"),y=n("Zsk6"),b=n("8Pfj"),g=n("OUuH"),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),w=function(t){function ChatView(t){_classCallCheck(this,ChatView);var n=_possibleConstructorReturn(this,(ChatView.__proto__||Object.getPrototypeOf(ChatView)).call(this,t));return n.componentDidUpdate=function(e,t){if(e.selected!==n.props.selected){var r="/api/messaging/chat/"+n.props.selected+"/";n.props.fetchData(r)}if(e.chats!==n.props.chats){var o=n.props.chats,i=o.filter(function(e){return!e.read});i&&n.handleUnreadChat(i),n.scrollToBottom()}e.userTyping!==n.props.userTyping&&n.setState({userTyping:n.props.userTyping==n.props.selected})},n.handleUnreadChat=function(e){var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;t.push(c.id)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}t.length&&u.a.post("/en/messaging/setmessagestatus/").set("X-CSRFToken",window.django.csrf).type("form").send({message_ids:t}).end(function(e,t){t.ok&&n.props.updateRoom(n.props.selected)})},n.handleSelectedMessage=function(e,t){if(t){var r=n.state.selectedMessages,o=f.a.includes(r,e)?r.filter(function(t){return t!==e}):r.concat(e);n.setState({selectedMessages:o})}},n.handleOptions=function(){n.setState(function(e){return{optionsOpen:!e.optionsOpen}})},n.componentDidMount=function(){n.scrollToBottom()},n.scrollToBottom=function(){n.messagesEnd.scrollIntoView({behavior:"smooth"})},n.closeChatView=function(){$("."+h.a.chatView).toggleClass("is-open")},n.handleSendChat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="/api/messaging/chat/"+n.props.selected+"/";n.props.sendChat(r,e,t)},n.handleDelete=function(e){e.preventDefault(),n.props.deleteRoom("/en/messaging/deleteroom/",n.props.selected),n.props.selectNext(),n.setState(function(e){return{optionsOpen:!e.optionsOpen}})},n.handleDeleteChat=function(e){e.preventDefault(),n.state.selectedMessages.length&&n.props.deleteChats("/api/messaging/deletemessages/",n.state.selectedMessages),n.setState(function(e){return{optionsOpen:!e.optionsOpen}})},n.handleTypingStatus=function(){u.a.post("/api/messaging/settyping/").set("X-CSRFToken",window.django.csrf).type("form").send({chatroom:n.props.selected}).end(function(e,t){})},n.handleDialogs=function(e){n.state.optionsOpen&&n.setState({optionsOpen:!1})},n.sendDemoChat=function(e){var t=$(".chat-input-box").val(),n=$("<div/>",{class:"chat-body-item"}).text(t);$(".chatview-body").append(n),n.get(0).scrollIntoView()},n.renderOptions=function(){var t=n.state.selectedMessages.length>1?"Delete Selected Messages":"Delete Selected Message";return e.createElement("ul",{className:"dropdown-menu animated fadeIn",style:{left:"auto",right:0}},e.createElement("li",null,e.createElement("a",{href:"#",onClick:n.handleDelete},"Delete This Room")),n.state.selectedMessages.length>0&&e.createElement("li",null,e.createElement("a",{href:"#",onClick:n.handleDeleteChat},t)))},n.state={selectedMessages:[],optionsOpen:!1,userTyping:!1},n}return _inherits(ChatView,t),v(ChatView,[{key:"render",value:function(){var t=this,n=this.props,r=n.className,o=n.chats,i=n.title,a=s()(h.a.chatView,r,"flex-vertical");return e.createElement("div",{className:a,onClick:this.handleDialogs},e.createElement("div",{className:"chatview-header flex-horizontal a-center"},e.createElement("div",{className:"text-username text-center flex-1"}," ",i," "),e.createElement("div",{className:"header-options"},e.createElement("div",{className:this.state.optionsOpen?"dropdown open":"dropdown"},this.renderOptions()),e.createElement("div",{className:"btn btn-default ui-button",onClick:this.handleOptions},e.createElement("i",{className:"fa fa-ellipsis-v"})),e.createElement("div",{onClick:this.closeChatView,className:"btn btn-default btn-chat ui-button mobile-close-chat"},e.createElement("i",{className:"fa fa-remove"})))),e.createElement("div",{className:"chatview-body flex-1"},o.map(function(n,r){return e.createElement(m.a,{key:r,user:n.user,message:n.message,fileurl:n.fileurl,filetype:n.filetype,filename:n.filename,message_id:n.id,stamp:new Date(n.timestamp),left:n.user.username!==window.django.user.username,selected:f.a.includes(t.state.selectedMessages,n.id),onSelected:t.handleSelectedMessage})}),e.createElement("div",{style:{float:"left",clear:"both"},ref:function(e){t.messagesEnd=e}})),e.createElement(y.a,{handleSendChat:this.handleSendChat,handleTypingStatus:this.handleTypingStatus,showTyping:this.state.userTyping,showTypingUsername:i}))}}]),ChatView}(r.Component);w.propTypes={chats:i.a.array.isRequired,selected:i.a.number.isRequired,areLoading:i.a.bool.isRequired,hasErrored:i.a.bool.isRequired,fetchData:i.a.func.isRequired,sendChat:i.a.func.isRequired,updateRoom:i.a.func.isRequired,deleteRoom:i.a.func.isRequired,deleteChats:i.a.func.isRequired};var C=function(e){return{chats:e.Chat.chats,selected:e.ChatRooms.selected,areLoading:e.Chat.areLoading,hasErrored:e.Chat.hasErrored}},x=function(e){return{fetchData:function(t){return e(n.i(b.e)(t))},sendChat:function(t,r,o){return e(n.i(b.f)(t,r,o))},updateRoom:function(t){return e(n.i(g.d)(t))},deleteRoom:function(t,r){return e(n.i(g.e)(t,r))},deleteChats:function(t,r){return e(n.i(b.g)(t,r))}}};t.a=n.i(c.connect)(C,x)(w)}).call(t,n("CwoH"))}});